{{ define "main" }}
<section id="hero" class="hero">
    <div class="container">
        <div class="hero-content">
            <h1 class="hero-title">{{ .Site.Title }}</h1>
            <p class="hero-description">{{ .Site.Params.description | default "Browse and discover JIPipe packages" }}</p>
            
            <!-- Search Interface -->
            <div class="search-container">
                <div class="search-input-wrapper">
                    <i class="fas fa-search search-icon"></i>
                    <input
                        type="text"
                        id="package-search"
                        class="search-input"
                        placeholder="Search packages by name, description, version, maintainer, or tags..."
                        autocomplete="off"
                    >
                    <button class="search-clear" id="search-clear" style="display: none;">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="search-results-info" id="search-results-info" style="display: none;">
                    <span id="results-count"></span> packages found
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Main Content Area with Two-Column Layout -->
<section id="main-content" class="main-content-section">
    <div class="content-wrapper">
        <!-- Filter Menu Container -->
        <div id="filter-menu-container" class="filter-column">
            <div class="filter-menu" id="filter-menu" role="radiogroup" aria-label="Filter packages">
                <div class="filter-header">
                    <h3 class="filter-title">Filter by Package</h3>
                    <button class="filter-clear" id="filter-clear" aria-label="Clear filter" style="display: none;">
                        <i class="fas fa-times" aria-hidden="true"></i>
                        <span>Clear</span>
                    </button>
                </div>
                <div class="filter-content" id="filter-content">
                    <div class="filter-search">
                        <i class="fa-solid fa-magnifying-glass" style="margin-left: 16px;"></i>
                        <input
                            type="text"
                            id="filter-search"
                            placeholder="Search filters..."
                            aria-label="Search filter options"
                            autocomplete="off"
                        >
                    </div>
                    <div class="filter-options" id="filter-options" role="radiogroup">
                        <!-- Filter options will be populated dynamically -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Packages Section -->
        <div class="content-column">
            <div class="packages-section">
                <div class="packages-grid" id="packages-grid">
                    {{ range $package := .Site.Data.index.packages }}
                    {{ partial "package-card.html" $package }}
                    {{ end }}
                </div>
                <div class="no-results" id="no-results" style="display: none;">
                    <i class="fas fa-search"></i>
                    <h3>No packages found</h3>
                    <p>Try adjusting your search terms</p>
                </div>
            </div>
        </div>
    </div>
</section>

<section id="about" class="about-section">
    <div class="container">
        <div class="section-header">
            <h2 class="section-title">About JIPipe</h2>
        </div>
        <div class="about-content">
            <p>JIPipe is a platform for image analysis and data processing. This package index provides easy access to prepackaged software and dependencies for various computational tasks.</p>
            <p>All packages are carefully curated and tested to ensure compatibility and reliability.</p>
        </div>
    </div>
</section>
{{ end }}